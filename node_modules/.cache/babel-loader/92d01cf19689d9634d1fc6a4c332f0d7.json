{"ast":null,"code":"// import logo from './logo.svg';\nimport './App.css';\nimport { ZoomMtg } from '@zoomus/websdk';\nimport React from 'react';\nimport express from 'express'; // Uncomment this line if you are Building for Relative Paths (example: http://mywebsite.com/relativepath\") and have set the \"homepage\" value in package.json - More info here: https://create-react-app.dev/docs/deployment/#building-for-relative-paths\n// ZoomMtg.setZoomJSLib(process.env.PUBLIC_URL + '/node_modules/@zoomus/websdk/dist/lib', '/av')\n\nZoomMtg.preLoadWasm();\nZoomMtg.prepareJssdk(); // Поднимаем сервер\n\nconst app = express();\nconst port = 3000;\napp.get(\"/join\", function (req, res) {\n  res.send(\"Got join reques\");\n  var signatureEndpoint = 'http://localhost:4000';\n  var apiKey = '2dSCUOCIRCm0-aZ2OLehJA';\n  var meetingNumber = window.meetingNumber;\n  var passWord = window.meetingPass;\n  var role = window.role;\n  var leaveUrl = window.leaveUrl;\n  var userName = window.userName;\n  var userEmail = window.userEmail;\n  getSignature(signatureEndpoint, apiKey, meetingNumber, passWord, role, leaveUrl, userName, userEmail);\n});\napp.listen(port, () => {\n  console.log(`Example app listening at http://localhost:${port}`);\n});\n\nfunction getSignature(signatureEndpoint, apiKey, meetingNumber, passWord, role, leaveUrl, userName, userEmail) {\n  fetch(signatureEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({\n      meetingNumber: meetingNumber,\n      role: role\n    })\n  }).then(res => res.json()).then(response => {\n    startMeeting(response.signature, leaveUrl, meetingNumber, userName, apiKey, userEmail, passWord);\n  }).catch(error => {\n    console.error(error);\n  });\n}\n\nfunction startMeeting(signature, leaveUrl, meetingNumber, userName, apiKey, userEmail, passWord) {\n  document.getElementById('zmmtg-root').style.display = 'block';\n  ZoomMtg.init({\n    leaveUrl: leaveUrl,\n    isSupportAV: true,\n    success: success => {\n      console.log(success);\n      ZoomMtg.join({\n        signature: signature,\n        meetingNumber: meetingNumber,\n        userName: userName,\n        apiKey: apiKey,\n        userEmail: userEmail,\n        passWord: passWord,\n        success: success => {\n          console.log(success);\n        },\n        error: error => {\n          console.log(error);\n        }\n      });\n    },\n    error: error => {\n      console.log(error);\n    }\n  });\n}","map":{"version":3,"sources":["/home/anton/projects/js/websdk-sample-react/src/App.js"],"names":["ZoomMtg","React","express","preLoadWasm","prepareJssdk","app","port","get","req","res","send","signatureEndpoint","apiKey","meetingNumber","window","passWord","meetingPass","role","leaveUrl","userName","userEmail","getSignature","listen","console","log","fetch","method","headers","body","JSON","stringify","then","json","response","startMeeting","signature","catch","error","document","getElementById","style","display","init","isSupportAV","success","join"],"mappings":"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","sourcesContent":["// import logo from './logo.svg';\nimport './App.css';\n\nimport { ZoomMtg } from '@zoomus/websdk';\nimport React from 'react';\n\nimport express from 'express';\n\n\n// Uncomment this line if you are Building for Relative Paths (example: http://mywebsite.com/relativepath\") and have set the \"homepage\" value in package.json - More info here: https://create-react-app.dev/docs/deployment/#building-for-relative-paths\n// ZoomMtg.setZoomJSLib(process.env.PUBLIC_URL + '/node_modules/@zoomus/websdk/dist/lib', '/av')\n\nZoomMtg.preLoadWasm();\nZoomMtg.prepareJssdk();\n\n\n// Поднимаем сервер\nconst app = express()\nconst port = 3000\n\napp.get(\"/join\", function(req, res) {\n\n  res.send(\"Got join reques\")\n\n  var signatureEndpoint = 'http://localhost:4000'\n  var apiKey = '2dSCUOCIRCm0-aZ2OLehJA'\n\n  var meetingNumber = window.meetingNumber\n  var passWord = window.meetingPass\n  var role = window.role\n  var leaveUrl = window.leaveUrl\n  var userName = window.userName\n  var userEmail = window.userEmail\n\n  getSignature(\n    signatureEndpoint,\n    apiKey,\n    meetingNumber,\n    passWord,\n    role,\n    leaveUrl,\n    userName,\n    userEmail,\n  )\n\n})\n\napp.listen(port, () => {\n  console.log(`Example app listening at http://localhost:${port}`)\n})\n\nfunction getSignature(\n  signatureEndpoint,\n  apiKey,\n  meetingNumber,\n  passWord,\n  role,\n  leaveUrl,\n  userName,\n  userEmail,\n) {\n\n  fetch(signatureEndpoint, {\n    method: 'POST',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify({\n      meetingNumber: meetingNumber,\n      role: role\n    })\n  }).then(res => res.json())\n  .then(response => {\n    startMeeting(\n      response.signature,\n      leaveUrl,\n      meetingNumber,\n      userName,\n      apiKey,\n      userEmail,\n      passWord\n      )\n  }).catch(error => {\n    console.error(error)\n  })\n\n}\n\nfunction startMeeting(\n  signature,\n  leaveUrl,\n  meetingNumber,\n  userName,\n  apiKey,\n  userEmail,\n  passWord\n) {\n  \n  document.getElementById('zmmtg-root').style.display = 'block'\n\n  ZoomMtg.init({\n    leaveUrl: leaveUrl,\n    isSupportAV: true,\n    success: (success) => {\n      console.log(success)\n\n      ZoomMtg.join({\n        signature: signature,\n        meetingNumber: meetingNumber,\n        userName: userName,\n        apiKey: apiKey,\n        userEmail: userEmail,\n        passWord: passWord,\n        success: (success) => {\n          console.log(success)\n        },\n        error: (error) => {\n          console.log(error)\n        }\n      })\n\n    },\n    error: (error) => {\n      console.log(error)\n    }\n  })\n}\n\n"]},"metadata":{},"sourceType":"module"}